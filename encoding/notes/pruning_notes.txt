SELECT ALL nodes IN shortest_path FOR every agent

CREATE new subgraph out with these nodes (ALTERNATIVE, but maybe worse: keep original instance, but make everything else obstacle)

REPEAT
RUN conflict_checker (OUTPUT: conflict_nodes)  #as there possibly are many conflict nodes for a pair of agents (going through the same corridor, at thje same time and in the same direction, only the conflict node with the lowest time should be selected)
IF conflict_node != null:
	conflict_nodes_unhandled = conflict_nodes 
	FOR every conflict_nodes_unhandled:
		REPEAT
			EXPAND graph by 1 in every legal direction #(obstacles arent legal directions)
		UNTIL this_node has new_nodes
		conflict_nodes_unhandled -= this_node
RUN solver
UNTIL solution found